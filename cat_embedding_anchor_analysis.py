
# ---------- Áå´„Ç≥„Éº„Éë„Çπ ----------
# =========================================
# üê± Êó•Êú¨Ë™ûÁå´„Ç≥„Éº„Éë„ÇπÔºà100 ÊñáÔºâ
# =========================================
cats = [
    "ÁßÅ„ÅØÁå´„ÅåÂ•Ω„Åç„Å†„ÄÇ",
    "ÈªíÁå´„ÅÆ„Å§„ÇÑ„ÇÑ„Åã„Å™ÊØõ‰∏¶„Åø„ÇíË¶ã„Çã„Å®ÂøÉ„ÅåËêΩ„Å°ÁùÄ„Åè„ÄÇ",
    "Áå´„ÅÆ„Ç¥„É≠„Ç¥„É≠„Å®„ÅÑ„ÅÜÂñâÈ≥¥„Çâ„Åó„ÅØÊúÄÈ´ò„ÅÆÁôí„ÇÑ„Åó„Å†„ÄÇ",
    "ÊúùÊó•„ÇíÊµ¥„Å≥„Å¶‰º∏„Å≥„Çí„Åô„ÇãÁå´„ÅÆÂßø„ÅåÊÑõ„Åä„Åó„ÅÑ„ÄÇ",
    "Â≠êÁå´„ÅåÊÆµ„Éú„Éº„É´ÁÆ±„ÅÆ‰∏≠„Åß‰∏∏„Åæ„Å£„Å¶Áú†„Å£„Å¶„ÅÑ„Çã„ÄÇ",
    "‰∏âÊØõÁå´„ÅÆÊ®°Êßò„ÅØ‰∏ñÁïå„Å´‰∫å„Å§„Å®Âêå„Åò„ÇÇ„ÅÆ„Åå„Å™„ÅÑ„ÄÇ",
    "Áå´„ÅØÂ•ΩÂ•áÂøÉÊó∫Áõõ„Åß„ÄÅ„Åô„ÅêÈ´ò„ÅÑÊâÄ„Å´Áôª„Çä„Åü„Åå„Çã„ÄÇ",
    "Áã≠„ÅÑÈöôÈñì„Å´Âô®Áî®„Å´ÂÖ•„ÇäËæº„ÇÄ„ÅÆ„ÅØÁå´„Å™„Çâ„Åß„ÅØ„Å†„ÄÇ",
    "ËÇâÁêÉ„ÅÆ„Å∑„Å´„Å∑„Å´„Åó„ÅüÊÑüËß¶„Åå„Åü„Åæ„Çâ„Å™„ÅÑ„ÄÇ",
    "Èõ®„ÅÆÊó•„ÄÅÁ™ìËæ∫„ÅßÂ§ñ„ÇíÁú∫„ÇÅ„ÇãÁå´„ÅÆÊ®™È°î„ÅåË©©ÁöÑ„Å†„ÄÇ",
    "Â§úÊõ¥„Åë„Å´Èùô„Åã„Å´Ê≠©„ÅèÁå´„ÅÆË∂≥Èü≥„ÅØ„Åª„Å®„Çì„Å©ËÅû„Åì„Åà„Å™„ÅÑ„ÄÇ",
    "Áå´„ÅØÁ¥ôË¢ã„ÇíË¶ã„Çã„Å®ÂøÖ„Åö„Å®Ë®Ä„Å£„Å¶„ÅÑ„ÅÑ„Åª„Å©ÊΩú„ÇäËæº„ÇÄ„ÄÇ",
    "Á∑ëËâ≤„ÅÆÁû≥„Åå„É©„É≥„Éó„ÅÆ„Çà„ÅÜ„Å´ÊöóÈóá„ÅßÂÖâ„Çã„ÄÇ",
    "„Ç≠„É£„ÉÉ„Éà„Çø„ÉØ„Éº„ÅÆ„Å¶„Å£„Å∫„Çì„ÅØÂΩº„Çâ„ÅÆÁâπÁ≠âÂ∏≠„Å†„ÄÇ",
    "Áå´„Åò„ÇÉ„Çâ„Åó„ÇíÊåØ„Çã„Å®ÁõÆ„ÇíËºù„Åã„Åõ„Å¶È£õ„Å≥„Å§„Åè„ÄÇ",
    "ÊØõ„Å•„Åè„Çç„ÅÑ„Å´‰ΩôÂøµ„Åå„Å™„Åè„ÄÅÂ∏∏„Å´Ë∫´„Å†„Åó„Å™„Åø„ÅØÂÆåÁíß„ÄÇ",
    "È≠ö„ÅÆÂåÇ„ÅÑ„Åå„Åô„Çã„Å®Âè∞ÊâÄ„Å∏‰∏ÄÁõ¥Á∑ö„Å´Ëµ∞„Å£„Å¶Êù•„Çã„ÄÇ",
    "„ÉÄ„É≥„Éú„Éº„É´„ÇíÂôõ„Çì„Åß„Éú„É≠„Éú„É≠„Å´„Åô„Çã„ÅÆ„ÅåÊó•Ë™≤„ÄÇ",
    "Êó•Âêë„Åº„Å£„Åì„Çí„Åó„Å¶„ÅÑ„ÇãÂßø„ÅØ„Åæ„Çã„ÅßÂΩ´Âàª„ÅÆ„Çà„ÅÜ„ÄÇ",
    "Â§ïÊöÆ„ÇåÊôÇ„ÄÅË∑ØÂú∞Ë£è„ÅßÁå´ÂêåÂ£´„ÅåÊå®Êã∂„Çí‰∫§„Çè„Åó„Å¶„ÅÑ„Åü„ÄÇ",
    "Èï∑ÊØõÁ®Æ„ÅØ„Éñ„É©„ÉÉ„Ç∑„É≥„Ç∞„Åô„Çã„Å®Èõ≤„ÅÆ„Çà„ÅÜ„Å™ÊØõ„ÅåËàû„ÅÜ„ÄÇ",
    "Áå´„Ç´„Éï„Çß„Åß„ÅØÊôÇÈñì„ÅåÁµå„Å§„ÅÆ„ÇíÂøò„Çå„Å¶„Åó„Åæ„ÅÜ„ÄÇ",
    "„ÅîÈ£Ø„ÅÆÊôÇÈñì„Å´„Å™„Çã„Å®Èà¥„ÅÆ„Çà„ÅÜ„Å™Â£∞„ÅßÈ≥¥„ÅÑ„Å¶ÂÇ¨‰øÉ„Åô„Çã„ÄÇ",
    "„Ç∑„Éß„ÉÉ„Éî„É≥„Ç∞„Çµ„Ç§„Éà„ÅßÁå´Áî®„Åä„ÇÑ„Å§„ÇíÂ§ßÈáèË≥ºÂÖ•„Åó„Åü„ÄÇ",
    "Áå´„ÅØÊñ∞„Åó„ÅÑÊÆµ„Éú„Éº„É´ÁÆ±„ÇíË¶ã„Å§„Åë„Çã„Å®Âç≥Â∫ß„Å´ÊîØÈÖç„Åô„Çã„ÄÇ",
    "„Çπ„Ç≥„ÉÜ„Ç£„ÉÉ„Ç∑„É•„Éï„Ç©„Éº„É´„Éâ„ÅÆÊäò„Çå„ÅüËÄ≥„Åå„Ç≠„É•„Éº„Éà„Å†„ÄÇ",
    "„Ç´„Éº„ÉÜ„É≥„Å´„Çà„ÅòÁôª„Çâ„Çå„Å¶Á©¥„ÅåÈñã„ÅÑ„Åü„ÄÇ",
    "„ÇΩ„Éï„Ç°„ÅÆÈöÖ„ÅßÈ¶ôÁÆ±Â∫ß„Çä„Çí„Åó„Å¶„ÅÑ„Çã„ÄÇ",
    "Áå´„ÅØ‰∫∫Èñì„ÅÆË®ÄËëâ„ÅÆÊäëÊèö„Çí„Çà„ÅèËÅû„ÅçÂàÜ„Åë„Çã„Å®„ÅÑ„ÅÜ„ÄÇ",
    "Áå´Ëçâ„ÇíÈ£ü„Åπ„Å¶ËÉÉ„ÇíÊï¥„Åà„ÇãË≥¢„Åï„Å´ÊÑüÂøÉ„Åô„Çã„ÄÇ",
    "Êó©Êúù„ÄÅÊûïÂÖÉ„ÅßÂ∞è„Åï„Åè„Éã„É£„Éº„Å®È≥¥„ÅçËµ∑„Åì„Åó„Å¶„Åè„Çå„Çã„ÄÇ",
    "„ÅäËÖπ„ÇíË¶ã„Åõ„Å¶„Ç¥„É≠„É≥„Å®Ëª¢„Åå„Çã„ÅÆ„ÅØ‰ø°È†º„ÅÆË®º„ÄÇ",
    "„Åî„ÅØ„ÇìÁöø„ÅÆÈü≥„Å†„Åë„ÅßÈ£õ„Çì„Åß„Åè„ÇãËÅ¥Ë¶ö„ÅÆÈã≠„Åï„ÄÇ",
    "Áå´Áî®„ÅÆ„Éà„É≥„Éç„É´„Åä„ÇÇ„Å°„ÇÉ„ÅßÂª∂„ÄÖ„Å®ÈÅä„Çì„Åß„ÅÑ„Çã„ÄÇ",
    "„Ç≠„É£„ÉÉ„Éà„Ç¶„Ç©„Éº„ÇØ„Çí‰Ωú„Å£„Åü„ÇâÈÉ®Â±ã„ÅåÁ´ã‰ΩìÁöÑ„Å´‰Ωø„Çè„ÇåÂßã„ÇÅ„Åü„ÄÇ",
    "Áå´„ÅÆÈ≥¥„ÅçÂ£∞„Å´„ÅØ18Á®ÆÈ°û‰ª•‰∏ä„ÅÆ„Éë„Çø„Éº„É≥„Åå„ÅÇ„Çã„Çâ„Åó„ÅÑ„ÄÇ",
    "„Éï„É™„Çπ„Ç≠„Éº„ÇíÈñãÂ∞Å„Åô„Çã„Å®Ë¢ã„ÅÆÈü≥„Å´ÊïèÊÑü„Å´ÂèçÂøú„ÄÇ",
    "„Ç∑„É•„É¨„ÉÉ„ÉÄ„Éº„Åó„ÅüÁ¥ôÁâá„ÅÆ‰∏ä„Åß„Åµ„Åø„Åµ„Åø„ÇíÂßã„ÇÅ„Åü„ÄÇ",
    "„Ç≠„Ç∏„Éà„É©ÊüÑ„ÅØÊ£Æ„ÅÆ„Ç´„É¢„Éï„É©„Éº„Ç∏„É•Ê®°Êßò„Å†„ÄÇ",
    "Áå´„ÅÆÂ∞ªÂ∞æ„ÅØÊÑüÊÉÖ„ÅÆ„Éê„É≠„É°„Éº„Çø„Éº„ÄÇ",
    "ÁéÑÈñ¢„ÅßÂá∫Ëøé„Åà„Çã„Å®„Åç„ÅÆÂ∞èËµ∞„Çä„ÅåÂèØÊÑõ„ÅÑ„ÄÇ",
    "„Åì„Åü„Å§„Åã„ÇâÈ°î„Å†„ÅëÂá∫„Åó„Å¶ÂØùËêΩ„Å°„Åó„Å¶„ÅÑ„Çã„ÄÇ",
    "Ë™≠Êõ∏„ÇíÂßã„ÇÅ„Çã„Å®ÂøÖ„ÅöÊú¨„ÅÆ‰∏ä„Å´Â∫ß„Çã„ÄÇ",
    "È≥•„ÅÆ„Åï„Åà„Åö„Çä„Å´ÂèçÂøú„Åó„Å¶„ÉÜ„É¨„Éì„Çí„Çø„ÉÉ„ÉÅ„Åô„Çã„ÄÇ",
    "ÊØõÁéâ„ÇíÂêê„ÅÑ„ÅüÂæå„ÅØÂ∞ë„ÅóÁî≥„ÅóË®≥„Å™„Åï„Åù„ÅÜ„Å™Ë°®ÊÉÖ„ÄÇ",
    "Á†Ç„ÅÆ„Éà„Ç§„É¨„Çí‰∏ÅÂØß„Å´Êéò„Å£„Å¶„Åã„ÇâÁî®„ÇíË∂≥„Åô„ÄÇ",
    "Á™ì„Ç¨„É©„Çπ„Å´Êò†„ÇãËá™ÂàÜ„ÅÆÂßø„Å´„Éë„É≥„ÉÅ„ÇíÁπ∞„ÇäÂá∫„Åô„ÄÇ",
    "„Åä„ÇÇ„Å°„ÇÉ„ÅÆ„É¨„Éº„Ç∂„Éº„Éù„Ç§„É≥„Çø„ÇíÂÖ®Âäõ„ÅßËøΩ„ÅÑ„Åã„Åë„Çã„ÄÇ",
    "Áå´ËÉå„Å®Ë®Ä„ÅÜ„Åå„ÄÅ‰∏∏„Åæ„Å£„ÅüËÉå‰∏≠„ÅØÂÑ™ÈõÖ„Åß„ÇÇ„ÅÇ„Çã„ÄÇ",
    "„Å≠„Åö„Åø„ÅÆ„Åä„ÇÇ„Å°„ÇÉ„Çí„Åè„Çè„Åà„Å¶Êà¶Âà©ÂìÅ„Å®„Åó„Å¶ÊåÅ„Å£„Å¶„Åè„Çã„ÄÇ",
    "ÁôΩÁå´„ÅØÊúàÂÖâ„ÇíÊµ¥„Å≥„Çã„Å®ÂπΩÁéÑ„Å™Èõ∞Âõ≤Ê∞ó„ÇíÈÜ∏„Åô„ÄÇ",
    "„Ç≠„ÉÉ„ÉÅ„É≥„Ç´„Ç¶„É≥„Çø„Éº„Å´‰πó„Çâ„Å™„ÅÑ„Åß„Å®‰ΩïÂ∫¶Ê≥®ÊÑè„Åó„Åü„Åì„Å®„Åã„ÄÇ",
    "Âºï„ÅçÂá∫„Åó„ÇíÈñã„Åë„ÇãÈü≥„Åß„Åä„ÇÑ„Å§„Å†„Å®ÊÇü„Çã„ÄÇ",
    "ÁéÑÈñ¢„Éû„ÉÉ„Éà„ÅÆ‰∏ä„ÅßËÖπ„Å∞„ÅÑ„Å´„Å™„Å£„Å¶‰∫∫Èñì„ÇíÂæÖ„Å§„ÄÇ",
    "„Åô„ÇäÂØÑ„Å£„Å¶„Åè„Çã„Å®„Åç„ÅÆÈ†¨„ÅÆÊüî„Çâ„Åã„Åï„ÅåÂ•Ω„Åç„Å†„ÄÇ",
    "Áå´„ÅåËÜù„Å´‰πó„Çã„Å®Ë∫´Âãï„Åç„Åå„Å®„Çå„Å™„Åè„Å™„Çã„ÄåÁå´ÊãòÊùü„Äç„ÄÇ",
    "È´òÈÄü„Åß„Åó„Å£„ÅΩ„ÇíÊåØ„Çã„ÅÆ„ÅØ‰∏çÊ©üÂ´å„ÅÆ„Çµ„Ç§„É≥„ÄÇ",
    "È¶ñËº™„ÅÆÈà¥„Åå„ÉÅ„É™„É≥„Å®È≥¥„Çã„Åü„Å≥„Å´ÊâÄÂú®„Åå„Çè„Åã„Çã„ÄÇ",
    "Â§ú‰∏≠„Å´Â§ßÈÅãÂãï‰ºö„ÇíÈñãÂÇ¨„Åó„Å¶ÂÆ∂„ÅåÊè∫„Çå„Çã„ÄÇ",
    "„Ç≠„É£„ÉÉ„Éà„Éï„Éº„Éâ„ÅÆ„Éë„ÉÉ„Ç±„Éº„Ç∏„ÇíÈñã„Åë„Çã„Å®ÁõÆ„ÅåÁúüÂâ£„Å´„Å™„Çã„ÄÇ",
    "Â∏ÉÂõ£„Å´ÊΩú„ÇäËæº„Çì„ÅßË∂≥„ÇíÊ∏©„ÇÅ„Å¶„Åè„Çå„Çã„ÄÇ",
    "ËÅû„ÅçÊÖ£„Çå„Å™„ÅÑÊù•ÂÆ¢„ÅÆÂ£∞„Å´Ë≠¶Êàí„Åó„Å¶Èö†„Çå„Çã„ÄÇ",
    "Ê≠ØÁ£®„Åç„Ç¨„É†„ÇíÂôõ„ÇÄÂßø„ÅåÊÑèÂ§ñ„Å®„ÉØ„Ç§„É´„Éâ„ÄÇ",
    "Áç£Âåª„Åï„Çì„ÅÆË®∫ÂØüÂè∞„Åß„ÅØÂõ∫„Åæ„Å£„Å¶Áü≥ÂÉè„ÅÆ„Çà„ÅÜ„ÄÇ",
    "„Éà„Éº„Éà„Éê„ÉÉ„Ç∞„ÇíÁΩÆ„Åè„Å®‰∏≠„Å´ÂÖ•„ÇäÊóÖÊîØÂ∫¶„Åî„Å£„Åì„ÄÇ",
    "ÂØùË®Ä„ÅßÂ∞è„Åï„Åè„Éã„É£„ÉÉ„Å®È≥¥„ÅèÂ§ú„ÇÇ„ÅÇ„Çã„ÄÇ",
    "Êúù„ÅÆ„Çπ„Éà„É¨„ÉÉ„ÉÅ„ÅßËÉå‰∏≠„ÇíÂèç„Çâ„ÅôÂßø„Åå„É®„Ç¨„ÅÆÈÅî‰∫∫„ÄÇ",
    "„Åµ„Çè„Åµ„Çè„ÅÆÂ∞ªÂ∞æ„ÅßÈ°î„ÇíÊí´„Åß„Çâ„Çå„Å¶„Åè„Åô„Åê„Å£„Åü„ÅÑ„ÄÇ",
    "Áå´„Åå„ÅÑ„Çã„Å†„Åë„ÅßÈÉ®Â±ã„ÅÆÁ©∫Ê∞ó„ÅåÊüî„Çâ„Åã„Åè„Å™„Çã„ÄÇ",
    "ÊÆµ„Éú„Éº„É´Ëø∑Ë∑Ø„Çí‰Ωú„Å£„Åü„ÇâÊé¢Ê§úÈöäÈï∑„Å´„Å™„Å£„Åü„ÄÇ",
    "„Ç≠„É£„ÉÉ„Éà„Éã„ÉÉ„ÉóÂÖ•„Çä„ÅÆ„Åä„ÇÇ„Å°„ÇÉ„ÅßÈÖî„Å£„Å±„Çâ„ÅÜÊßòÂ≠ê„ÅåÈù¢ÁôΩ„ÅÑ„ÄÇ",
    "ËÉå‰∏≠„Çí„Éà„É≥„Éà„É≥„Åô„Çã„Å®„Éà„É≠„É≥„Å®ÁõÆ„ÇíÁ¥∞„ÇÅ„Çã„ÄÇ",
    "Á™ìËæ∫„ÅßËù∂„ÇíÁõÆ„ÅßËøΩ„ÅÜ„Éè„É≥„Çø„Éº„ÅÆË°®ÊÉÖ„ÄÇ",
    "ÈöéÊÆµ„Çí‰∏ÄÊÆµÈ£õ„Å∞„Åó„ÅßÈßÜ„Åë‰∏ä„Åå„ÇãË∑≥Ë∫çÂäõ„ÄÇ",
    "„Çπ„Éû„Éõ„ÅÆÁîªÈù¢„ÇíÁå´Áî®„Ç≤„Éº„É†„Å´„Åô„Çã„Å®ÁúüÂâ£„Åù„ÅÆ„ÇÇ„ÅÆ„ÄÇ",
    "„Ç≥„Éº„Éí„ÉºË±Ü„ÅÆÂåÇ„ÅÑ„Å´„ÅØËààÂë≥„ÇíÁ§∫„Åï„Å™„ÅÑ„ÄÇ",
    "„ÇØ„É™„Çπ„Éû„Çπ„ÉÑ„É™„Éº„Çí„Çà„ÅòÁôª„ÇäÈ£æ„Çä„ÇíËêΩ„Å®„Åô‰∫ã‰ª∂„ÄÇ",
    "Èõ∑„ÅåÈ≥¥„Çã„Å®„ÇØ„É≠„Éº„Çº„ÉÉ„Éà„ÅÆÂ••„Å∏ÈÅøÈõ£„ÄÇ",
    "„Ç∑„É£„É≥„Éó„ÉºÂæå„ÅÆ„Éâ„É©„Ç§„É§„Éº„Çø„Ç§„É†„ÅØÂ§ßÈ®í„Åé„ÄÇ",
    "Á™ì„ÅÆÁµêÈú≤„ÇíËàê„ÇÅ„Å¶ÊÄí„Çâ„Çå„Çã„ÄÇ",
    "Èï∑„ÅÑ„Å≤„Åí„ÅØÂ§úÈñì„ÅÆ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥Ë£ÖÁΩÆ„ÄÇ",
    "„Åî„Çç„Çì„Å®Ê®™„Å´„Å™„Çä„ÅäËÖπ„ÇíÊí´„Åß„Å¶„Ç¢„Éî„Éº„É´„ÄÇ",
    "Áå´Ë¶èÊ†º„ÅÆÂπÖ„ÅÆÁ¥∞„ÅÑÊ£ö„ÇíÊ≠©„Åè„Éê„É©„É≥„ÇπÊÑüË¶ö„ÄÇ",
    "Êñ∞„Åó„ÅÑÂåÇ„ÅÑ„ÅÆÊúç„Çí„ÇØ„É≥„ÇØ„É≥„Å®„ÉÅ„Çß„ÉÉ„ÇØ„ÄÇ",
    "„Çø„Éñ„É¨„ÉÉ„Éà„ÅÆ„Éö„É≥ÂÖà„ÇíÁãô„Å£„Å¶Áã©„Çä„Çí„Åô„Çã„ÄÇ",
    "Ê¥óÊøØ„Éç„ÉÉ„Éà„ÇíË¶ã„Çã„Å®ÁóÖÈô¢„ÇíÈÄ£ÊÉ≥„Åó„Å¶ÈÄÉ„ÅíËÖ∞„ÄÇ",
    "ÂèãÈÅî„ÅÆÁä¨„Å®„ÅØÈÅ©Â∫¶„Å™Ë∑ùÈõ¢ÊÑü„Çí‰øù„Å§„ÄÇ",
    "Èçµ„ÅÆ„Ç∏„É£„É©„Ç∏„É£„É©Èü≥„Å´ÂèçÂøú„Åó„Å¶ÁéÑÈñ¢„Å∏„ÄÇ",
    "Áå´Áî®„Éñ„É©„Ç∑„ÇíË¶ã„Çã„Å®Âñú„Çì„ÅßÈ†≠„ÇíÊäº„Åó‰ªò„Åë„Çã„ÄÇ",
    "Áå´„ÅØÂÆ∂„Å´„Å§„Åè„Å®Ë®Ä„ÅÜ„Åå„ÄÅ‰∫∫„Å´„ÇÇ„Å°„ÇÉ„Çì„Å®Êáê„Åè„ÄÇ",
    "ÁÆ∏ÁΩÆ„Åç„ÇíËª¢„Åå„Åó„Å¶„Çµ„ÉÉ„Ç´„Éº„ÇíÂßã„ÇÅ„Çã„ÄÇ",
    "ÈõªÊ∞ó„Çπ„Éà„Éº„Éñ„ÅÆÂâç„ÇíÁã¨Âç†„Åó„Å¶Âãï„Åã„Å™„ÅÑ„ÄÇ",
    "È≥¥„ÅçÂ£∞„ÅßÊôÇÂàª„ÇíÁü•„Çâ„Åõ„ÇãÊ≠£Á¢∫„Å™ËÖπÊôÇË®à„ÄÇ",
    "„Çµ„É≥„Ç∞„É©„Çπ„Çí„Åã„Åë„ÅüÂÜôÁúü„Åå SNS „Åß„Éê„Ç∫„Å£„Åü„ÄÇ",
    "„ÉÑ„É≥„Éá„É¨„Å™ÊÖãÂ∫¶„ÇÇÈ≠ÖÂäõ„ÅÆ‰∏ÄÈÉ®„Å†„ÄÇ",
    "Èå≤Áîª„Åó„ÅüÈ≥•ÂãïÁîª„Çí„ÉÜ„É¨„Éì„Å´Êò†„Åô„Å®Â§ßËààÂ•Æ„ÄÇ",
    "„Ç≠„É£„É™„Éº„Ç±„Éº„Çπ„ÇíË¶ã„Çã„Å®ÊóÖË°å„ÅãÁóÖÈô¢„Åã„ÅßË°®ÊÉÖ„ÅåÂ§â„Çè„Çã„ÄÇ",
    "‰∫∫Èñì„ÅÆ„Åè„Åó„ÇÉ„Åø„Å´È©ö„ÅÑ„Å¶Â∞ªÂ∞æ„ÅåËÜ®„Çâ„ÇÄ„ÄÇ",
    "„Åä„ÇÑ„Å§„ÅÆË¢ã„ÇíÈö†„ÅôÂ†¥ÊâÄ„Çí„Åô„Åß„Å´Â≠¶Áøí„Åó„Å¶„ÅÑ„Çã„ÄÇ",
    "‰ªäÊó•„ÇÇ„ÄåÁßÅ„ÅØÁå´„ÅåÂ•Ω„Åç„Å†„Äç„Å®ÂÜçÁ¢∫Ë™ç„Åó„Åü„ÄÇ"
]

#!/usr/bin/env python
# =============================================================
#  cat_anchor_abtest_local_with_graphs.py
#     SBERT + rinna/japanese-gpt2-mediumÔºàÈÄêÊ¨°ÂÆüË°åÔºâ
#     „ÉªŒª√ómetric „Åæ„Å®„ÇÅ„Çí printf
#     „ÉªÊôÇÁ≥ªÂàóÔºÜÂπ≥Âùá„Éê„Éº„Ç∞„É©„Éï„Çí fig.savefig() „Åß‰øùÂ≠ò ‚Üí FileLink
# =============================================================

import sys, os, random, pathlib
from typing import List
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from IPython.display import display, FileLink
from tqdm import tqdm
from scipy import stats

# ---------------- 1. ‰∫ãÂâçË®≠ÂÆö --------------------------------
BASE_SEED, EPS, REFRESH_EVERY, SIGMA_P_REFRESH = 42, 0.1, 10, 0.05
OUTDIR = pathlib.Path("output")
OUTDIR.mkdir(exist_ok=True)

# ---------------- 2. „É¢„Éá„É´Ê∫ñÂÇôÔºàSBERT & GPT2Ôºâ ---------------
from sentence_transformers import SentenceTransformer
EMB_MODEL = "sentence-transformers/all-MiniLM-L6-v2"
embedder  = SentenceTransformer(EMB_MODEL)

from transformers import AutoTokenizer, AutoModelForCausalLM, pipeline
GEN_MODEL = os.getenv("LOCAL_GEN_MODEL", "rinna/japanese-gpt2-medium")
tokenizer = AutoTokenizer.from_pretrained(GEN_MODEL)
model     = AutoModelForCausalLM.from_pretrained(GEN_MODEL,
                                                 torch_dtype="auto",
                                                 device_map="auto")
generator = pipeline("text-generation", model=model, tokenizer=tokenizer)

def embed(text: str) -> np.ndarray:
    return embedder.encode(text, convert_to_numpy=True).astype(np.float32)

def gpt_continue(seed: str) -> str:
    prompt = f"{seed}\nÁ∂ö„Åç„ÅØ 1 Êñá„ÄÅÊó•Êú¨Ë™û„Åß„ÄÅÂè•ÁÇπ„Äå„ÄÇ„Äç„ÅßÁµÇ„Åà„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n"
    try:
        out = generator(prompt, max_new_tokens=60, do_sample=False,
                        pad_token_id=tokenizer.eos_token_id)[0]["generated_text"]
        return (out[len(prompt):].split("„ÄÇ", 1)[0] + "„ÄÇ").strip()
    except Exception as e:
        print(f"[WARN] generation failed: {e}")
        return "„ÄÇ"

# ---------------- 3. „Éá„Éº„ÇøË™≠„ÅøËæº„Åø -----------------------------------------
def load_corpus() -> List[str]:
    try:
        cats
    except ImportError:
        sys.exit("cats„Ç≥„Éº„Éë„Çπ„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„ÄÇcats = [...] „ÇíÁî®ÊÑè„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ")
    if len(cats) < 100:
        print(f"[WARN] corpus size={len(cats)} < 100")
    return list(cats)

# ---------------- 4. Áâ©ÁêÜË£úÂä©Èñ¢Êï∞ -----------------------------------------
def leapfrog(q, p, q0, lam):
    p -= 0.5*EPS*lam*(q - q0)
    q += EPS*p
    p -= 0.5*EPS*lam*(q - q0)
    return q, p

# ---------------- 5. Âçò‰∏ÄË©¶Ë°å ---------------------------------------------
def run_experiment(lam: float, seed_offset=0) -> pd.DataFrame:
    random.seed(BASE_SEED + seed_offset)
    np.random.seed(BASE_SEED + seed_offset)

    corpus = load_corpus()
    q0 = embed(corpus[0]); q, p = q0.copy(), np.zeros_like(q0)

    rows = []
    for step, sent in enumerate(tqdm(corpus, desc=f"Œª={lam:>6g}"), start=1):
        q = embed(gpt_continue(sent))
        if lam: q, p = leapfrog(q, p, q0, lam)
        if step % REFRESH_EVERY == 0:
            p = np.random.normal(scale=SIGMA_P_REFRESH, size=p.shape)
        rows.append({"step":step,
                     "drift":np.linalg.norm(q - q0),
                     "pnorm":np.linalg.norm(p),
                     "A_q":  float((q0/np.linalg.norm(q0)) @ q)})
    return pd.DataFrame(rows)

# ---------------- 6. ÈõÜË®àÔºÜt-test ------------------------------------------
def evaluate_stats(lam0: float, lam1: float, trials=3):
    records = []
    for t in range(trials):
        df0, df1 = run_experiment(lam0, t), run_experiment(lam1, t)
        for lam_val, df in [(lam0, df0), (lam1, df1)]:
            for m in ["drift","pnorm","A_q"]:
                arr = df[m]
                records.append({"lam":lam_val,"metric":m,
                                "mean":arr.mean(),"median":arr.median(),
                                "std":arr.std(),"min":arr.min(),"max":arr.max()})
    stats_df = pd.DataFrame(records)
    tstat = {m: stats.ttest_rel(
                stats_df[(stats_df.lam==lam0)&(stats_df.metric==m)]["mean"],
                stats_df[(stats_df.lam==lam1)&(stats_df.metric==m)]["mean"])
             for m in ["drift","pnorm","A_q"]}
    return stats_df, tstat

# ---------------- 7. „Ç∞„É©„Éï‰ΩúÊàê -------------------------------------------
def save_timeseries(df0, df1, lam0, lam1, path):
    fig, ax = plt.subplots(3,1,figsize=(6,10))
    for i,m in enumerate(["drift","pnorm","A_q"]):
        ax[i].plot(df0.step, df0[m], label=f"Œª={lam0}")
        ax[i].plot(df1.step, df1[m], label=f"Œª={lam1}")
        ax[i].set_title(m); ax[i].legend(); ax[i].grid(ls="--",alpha=0.5)
    fig.tight_layout()
    fig.savefig(path, dpi=300)          # ‚òÖ fig.savefig „ÇíÊòéÁ§∫
    plt.close(fig)

def save_barchart(stats_df, path):
    fig, ax = plt.subplots(1, 3, figsize=(9, 3))
    metrics = ["drift", "pnorm", "A_q"]
    colors = ["steelblue", "coral"]
    for i, m in enumerate(metrics):
        subset = stats_df[stats_df.metric == m]
        # Group by 'lam' and take the mean of 'mean' for each group
        means = subset.groupby("lam")["mean"].mean()
        ax[i].bar(means.index, means.values, color=colors) # Use index as x-values
        ax[i].set_title(f"{m} mean")
        ax[i].set_xlabel("Œª")
        ax[i].set_ylabel("value")
    fig.tight_layout()
    fig.savefig(path, dpi=300)
    plt.close(fig)

# ---------------- 8. „É°„Ç§„É≥ -----------------------------------------------
def main():
    lam0, lam1, trials = 0.0001, 20, 5

    # --- ÊôÇÁ≥ªÂàó„Ç∞„É©„Éï ------------------------------------
    df0, df1 = run_experiment(lam0,0), run_experiment(lam1,0)
    ts_file = OUTDIR / "timeseries.png"
    save_timeseries(df0, df1, lam0, lam1, ts_file)
    display(FileLink(ts_file))

    # --- ÈõÜË®à„Éª„Éê„Éº„Ç∞„É©„Éï ---------------------------------
    stats_df, tstat = evaluate_stats(lam0, lam1, trials)
    bar_file = OUTDIR / "mean_barplot.png"
    save_barchart(stats_df, bar_file)
    display(FileLink(bar_file))

    # --- printf Âá∫Âäõ -------------------------------------
    print("\n=== lam √ó metric Ë¶ÅÁ¥ÑÁµ±Ë®àÈáè ===")
    for lam_val in sorted(stats_df.lam.unique()):
        for m in ["drift","pnorm","A_q"]:
            s=stats_df[(stats_df.lam==lam_val)&(stats_df.metric==m)]
            mu,med,sd,mn,mx = s["mean"].mean(),s["median"].mean(),s["std"].mean(),s["min"].mean(),s["max"].mean()
            print(f"printf: Œª={lam_val:<7g} {m:<5s} mean={mu:.4f} median={med:.4f} "
                  f"std={sd:.4f} min={mn:.4f} max={mx:.4f}")

    # --- t-test Âá∫Âäõ -------------------------------------
    print("\n=== ÊúâÊÑèÂ∑ÆÊ§úÂÆöÁµêÊûú (Œª0 vs Œª1) ===")
    for m,(t_val,p_val) in tstat.items():
        print(f"{m:<5s}: t={t_val:.4f}, p={p_val:.4f}")

    # --- CSV ‰øùÂ≠ò ----------------------------------------
    csv_path = OUTDIR / "abtest_stats.csv"
    stats_df.to_csv(csv_path, index=False)
    display(FileLink(csv_path))

if __name__ == "__main__":
    main()
